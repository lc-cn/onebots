<div align="center">
    <h1>ä½¿ç”¨tså®ç°çš„oneBotåº”ç”¨å¯åŠ¨å™¨ï¼Œæ”¯æŒicqqã€qqå®˜æ–¹æœºå™¨äººã€å¾®ä¿¡ä»¥åŠé’‰é’‰æœºå™¨äºº</h1>
    <p>

[![Build Package](https://github.com/icqqjs/onebots/actions/workflows/release.yml/badge.svg?branch=master&event=push)](https://github.com/icqqjs/onebots/actions/workflows/release.yml) [![Build Docs](https://github.com/lc-cn/onebots/actions/workflows/build_deploy_docs.yml/badge.svg)](https://github.com/lc-cn/onebots/actions/workflows/build_deploy_docs.yml)

[![npm](https://img.shields.io/npm/v/onebots)](https://www.npmjs.com/package/onebots) [![dm](https://shields.io/npm/dm/onebots)](https://www.npmjs.com/package/onebots) [![oneBot V11](https://img.shields.io/badge/OneBot-11-black?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxQTFRF////29vbr6+vAAAAk1hCcwAAAAR0Uk5T////AEAqqfQAAAKcSURBVHja7NrbctswDATQXfD//zlpO7FlmwAWIOnOtNaTM5JwDMa8E+PNFz7g3waJ24fviyDPgfhz8fHP39cBcBL9KoJbQUxjA2iYqHL3FAnvzhL4GtVNUcoSZe6eSHizBcK5LL7dBr2AUZlev1ARRHCljzRALIEog6H3U6bCIyqIZdAT0eBuJYaGiJaHSjmkYIZd+qSGWAQnIaz2OArVnX6vrItQvbhZJtVGB5qX9wKqCMkb9W7aexfCO/rwQRBzsDIsYx4AOz0nhAtWu7bqkEQBO0Pr+Ftjt5fFCUEbm0Sbgdu8WSgJ5NgH2iu46R/o1UcBXJsFusWF/QUaz3RwJMEgngfaGGdSxJkE/Yg4lOBryBiMwvAhZrVMUUvwqU7F05b5WLaUIN4M4hRocQQRnEedgsn7TZB3UCpRrIJwQfqvGwsg18EnI2uSVNC8t+0QmMXogvbPg/xk+Mnw/6kW/rraUlvqgmFreAA09xW5t0AFlHrQZ3CsgvZm0FbHNKyBmheBKIF2cCA8A600aHPmFtRB1XvMsJAiza7LpPog0UJwccKdzw8rdf8MyN2ePYF896LC5hTzdZqxb6VNXInaupARLDNBWgI8spq4T0Qb5H4vWfPmHo8OyB1ito+AysNNz0oglj1U955sjUN9d41LnrX2D/u7eRwxyOaOpfyevCWbTgDEoilsOnu7zsKhjRCsnD/QzhdkYLBLXjiK4f3UWmcx2M7PO21CKVTH84638NTplt6JIQH0ZwCNuiWAfvuLhdrcOYPVO9eW3A67l7hZtgaY9GZo9AFc6cryjoeFBIWeU+npnk/nLE0OxCHL1eQsc1IciehjpJv5mqCsjeopaH6r15/MrxNnVhu7tmcslay2gO2Z1QfcfX0JMACG41/u0RrI9QAAAABJRU5ErkJggg==)](https://onebot.dev/)
[![oneBot V12](https://img.shields.io/badge/OneBot-12-black?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxQTFRF////29vbr6+vAAAAk1hCcwAAAAR0Uk5T////AEAqqfQAAAKcSURBVHja7NrbctswDATQXfD//zlpO7FlmwAWIOnOtNaTM5JwDMa8E+PNFz7g3waJ24fviyDPgfhz8fHP39cBcBL9KoJbQUxjA2iYqHL3FAnvzhL4GtVNUcoSZe6eSHizBcK5LL7dBr2AUZlev1ARRHCljzRALIEog6H3U6bCIyqIZdAT0eBuJYaGiJaHSjmkYIZd+qSGWAQnIaz2OArVnX6vrItQvbhZJtVGB5qX9wKqCMkb9W7aexfCO/rwQRBzsDIsYx4AOz0nhAtWu7bqkEQBO0Pr+Ftjt5fFCUEbm0Sbgdu8WSgJ5NgH2iu46R/o1UcBXJsFusWF/QUaz3RwJMEgngfaGGdSxJkE/Yg4lOBryBiMwvAhZrVMUUvwqU7F05b5WLaUIN4M4hRocQQRnEedgsn7TZB3UCpRrIJwQfqvGwsg18EnI2uSVNC8t+0QmMXogvbPg/xk+Mnw/6kW/rraUlvqgmFreAA09xW5t0AFlHrQZ3CsgvZm0FbHNKyBmheBKIF2cCA8A600aHPmFtRB1XvMsJAiza7LpPog0UJwccKdzw8rdf8MyN2ePYF896LC5hTzdZqxb6VNXInaupARLDNBWgI8spq4T0Qb5H4vWfPmHo8OyB1ito+AysNNz0oglj1U955sjUN9d41LnrX2D/u7eRwxyOaOpfyevCWbTgDEoilsOnu7zsKhjRCsnD/QzhdkYLBLXjiK4f3UWmcx2M7PO21CKVTH84638NTplt6JIQH0ZwCNuiWAfvuLhdrcOYPVO9eW3A67l7hZtgaY9GZo9AFc6cryjoeFBIWeU+npnk/nLE0OxCHL1eQsc1IciehjpJv5mqCsjeopaH6r15/MrxNnVhu7tmcslay2gO2Z1QfcfX0JMACG41/u0RrI9QAAAABJRU5ErkJggg==)](https://12.onebot.dev/) [![node engine](https://img.shields.io/node/v/onebots?color=339933&style=flat-square&labelColor=FAFAFA&logo=Node.js)](https://nodejs.org)
[![qq group](https://img.shields.io/badge/group-860669870-blue?style=flat-square&labelColor=FAFAFA&logo=data:image/png;base64,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&logoColor=000000)](https://jq.qq.com/?_wv=1027&k=B22VGXov)

[Docs](https://docs.onebots.org)

</p>
</div>

## ğŸ‰ æœ€æ–°é‡æ„

é¡¹ç›®å·²å®Œæˆé‡æ„ï¼Œå¸¦æ¥ä»¥ä¸‹æ”¹è¿›ï¼š

- âœ¨ **å¤šåè®®æ”¯æŒ**ï¼šç°åœ¨æ”¯æŒæ‰©å±•å¤šç§åè®®ï¼ˆOneBotã€Milkyã€Satori ç­‰ï¼‰
- ğŸš€ **æ€§èƒ½æå‡**ï¼šä½¿ç”¨ Node.js å†…ç½® SQLite æ›¿ä»£æ–‡ä»¶æ•°æ®åº“
- ğŸ—ï¸ **æ¶æ„ä¼˜åŒ–**ï¼šæ¸…æ™°çš„åè®®æŠ½è±¡å±‚ï¼Œæ›´æ˜“äºæ·»åŠ æ–°å¹³å°å’Œåè®®
- ğŸ”— **æ–° URL ç»“æ„**ï¼šæ”¯æŒ `/{platform}/{uin}/{protocol}/{version}` æ ¼å¼
- ğŸ“ **å‘åå…¼å®¹**ï¼šå®Œå…¨å…¼å®¹æ—§ç‰ˆæœ¬çš„ URL å’Œé…ç½®

è¯¦ç»†ä¿¡æ¯ï¼š

- [è¿ç§»æŒ‡å—](./MIGRATION.md) - å¦‚ä½•ä»æ—§ç‰ˆæœ¬å‡çº§
- [æ¶æ„æ–‡æ¡£](./ARCHITECTURE.md) - äº†è§£æ–°æ¶æ„è®¾è®¡

---

# ä½¿ç”¨ç¤ºä¾‹

## å…¨å±€å®‰è£…(0.4.8ä»¥åä¸æ¨è)

### 1 å®‰è£…ä¾èµ–

- æ³¨æ„ï¼š

```shell
npm install -g onebots
```

### 2 åˆå§‹åŒ–é…ç½®æ–‡ä»¶

åœ¨ä½ æƒ³å­˜æ”¾é…ç½®æ–‡ä»¶çš„ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤

```shell
onebots
```

### 3 æ›´æ”¹ç”Ÿæˆçš„é»˜è®¤é…ç½®æ–‡ä»¶æˆä½ æƒ³è¦çš„é…ç½®é…ç½®åå†æ¬¡è¿è¡Œä¸Šé¢çš„æŒ‡ä»¤ï¼Œå¯åŠ¨é¡¹ç›®

## å±€éƒ¨å®‰è£…

## 1 åˆå§‹åŒ–nodeé¡¹ç›®

```shell
npm init -y
```

## 2. å®‰è£…onebotsä»¥åŠå¯¹åº”é€‚é…å™¨çš„ä¾èµ–

```shell
npm install onebots
npm install @icqqjs/icqq # å¦‚éœ€ä½¿ç”¨icqqé€‚é…å™¨ï¼Œè¯·åŠ¡å¿…å®‰è£…
npm install web-wechat # å¦‚éœ€ä½¿ç”¨å¾®ä¿¡é€‚é…å™¨ï¼Œè¯·åŠ¡å¿…å®‰è£…
npm install qq-official-bot # å¦‚éœ€ä½¿ç”¨qqå®˜æ–¹æœºå™¨äººé€‚é…å™¨ï¼Œè¯·åŠ¡å¿…å®‰è£…
npm install node-dd-bot # å¦‚éœ€ä½¿ç”¨é’‰é’‰æœºå™¨äººé€‚é…å™¨ï¼Œè¯·åŠ¡å¿…å®‰è£…
```

- å…³äº@icqqjsçš„å®‰è£…å¼•å¯¼ï¼š

**å®‰è£…:**

1. åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ `.npmrc` ,å¹¶å½•å…¥ä»¥ä¸‹å†…å®¹

```text
@icqqjs:registry=https://npm.pkg.github.com
```

2. å‘½ä»¤è¡Œè¾“å…¥ `npm login --scope=@icqqjs --auth-type=legacy --registry=https://npm.pkg.github.com` ï¼Œå›è½¦ï¼Œæ ¹æ®æç¤ºç™»å½•github

```shell
npm login --scope=@icqqjs --auth-type=legacy --registry=https://npm.pkg.github.com

UserName: # ä½ çš„githubè´¦å·
Password: # å‰å¾€ https://github.com/settings/tokens/new  è·å–ï¼Œscopeså‹¾é€‰ read:packages
E-Mail: # ä½ çš„å…¬å¼€é‚®ç®±åœ°å€
```

3. å®‰è£…ä¾èµ–

```shell
npm install @icqqjs/icqq  # or > yarn add @icqqjs/icqq
```

## 3. æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆé…ç½®æ–‡ä»¶

```shell
npx onebots -r icqq #æ³¨å†Œicqqé€‚é…å™¨å¹¶å¯åŠ¨onebots
npx onebots -r wechat #æ³¨å†Œå¾®ä¿¡é€‚é…å™¨å¹¶å¯åŠ¨onebots
npx onebots -r qq #æ³¨å†Œqqå®˜æ–¹é€‚é…å™¨å¹¶å¯åŠ¨onebots
npx onebots -r dingtalk #æ³¨å†Œé’‰é’‰é€‚é…å™¨å¹¶å¯åŠ¨onebots
# ä½ ä¹Ÿå¯ä»¥åŒæ—¶æ³¨å†Œå¤šä¸ªé€‚é…å™¨ï¼Œå¤šæ¬¡ä½¿ç”¨-rå³å¯ï¼Œä¾‹å¦‚ npx onebots -r qq -r icqq -r wechat
```

## 4. æ›´æ”¹ç”Ÿæˆçš„é»˜è®¤é…ç½®æ–‡ä»¶æˆä½ æƒ³è¦çš„é…ç½®é…ç½®åå†æ¬¡è¿è¡Œä¸Šé¢çš„æŒ‡ä»¤ï¼Œå¯åŠ¨é¡¹ç›®

# é»˜è®¤é…ç½®æ–‡ä»¶

```yaml
port: 6727 # ç›‘å¬ç«¯å£
log_level: info # æ—¥å¿—ç­‰çº§
platform: 5 # æœºå™¨äººå®¢æˆ·ç«¯åè®®ï¼ˆ1:Android 2:APad 3:Watch 4:IMac 5:IPadï¼‰
timeout: 30 #ç™»å½•è¶…æ—¶æ—¶é—´(ç§’)
general: # é€šç”¨é…ç½®ï¼Œåœ¨å•ä¸ªé…ç½®çœç•¥æ—¶çš„é»˜è®¤å€¼
  V11: # oneBotV11çš„é€šç”¨é…ç½®
    heartbeat: 3 # å¿ƒè·³é—´éš” (ç§’)
    access_token: "" # è®¿é—®apiçš„token
    post_timeout: 15 # ä¸ŠæŠ¥è¶…æ—¶æ—¶é—´ï¼Œ(ç§’)
    secret: "" # ä¸ŠæŠ¥æ•°æ®çš„sha1ç­¾åå¯†é’¥
    rate_limit_interval: 4 # wså¿ƒè·³é—´éš”(ç§’)
    post_message_format: string # "string"æˆ–"array"
    reconnect_interval: 3 # é‡è¿é—´éš” (ç§’)
    use_http: true # æ˜¯å¦ä½¿ç”¨ http
    enable_cors: true # æ˜¯å¦å…è®¸è·¨åŸŸ
    filters: {} # è¿‡æ»¤å™¨é…ç½®
    use_ws: true # æ˜¯å¦ä½¿ç”¨websocket
    http_reverse: [] # httpä¸ŠæŠ¥åœ°å€
    ws_reverse: [] # åå‘wsè¿æ¥åœ°å€
  V12: # oneBotV12çš„é€šç”¨é…ç½®
    heartbeat: 3 # å¿ƒè·³é—´éš” (ç§’)
    access_token: "" # è®¿é—®apiçš„token
    request_timeout: 15 # ä¸ŠæŠ¥è¶…æ—¶æ—¶é—´ (ç§’)
    reconnect_interval: 3 # é‡è¿é—´éš” (ç§’)
    enable_cors: true # æ˜¯å¦å…è®¸è·¨åŸŸ
    use_http: true # æ˜¯å¦å¯ç”¨http
    use_ws: true # æ˜¯å¦å¯ç”¨ websocket
    filters: {} # è¿‡æ»¤å™¨é…ç½®
    webhook: [] # http ä¸ŠæŠ¥åœ°å€
    ws_reverse: [] # åå‘wsè¿æ¥åœ°å€
  protocol:
    platform: 2
    sign_api_addr: "" #ä½ çš„ç­¾ååœ°å€
    password: "" # è´¦å·å¯†ç ï¼Œæœªé…ç½®åˆ™æ‰«ç ç™»é™†
    # ...å…¶ä»–é…ç½®é¡¹å‚è€ƒicqqçš„Configé…ç½®
# æ¯ä¸ªè´¦å·çš„å•ç‹¬é…ç½®(ç”¨äºè¦†ç›–é€šç”¨é…ç½®)
icqq.123456789:
  password: "" # è´¦å·å¯†ç ï¼Œæœªé…ç½®åˆ™æ‰«ç ç™»é™†
  version: V11 # ä½¿ç”¨çš„oneBotç‰ˆæœ¬
  # ...å…¶ä»–é…ç½®é¡¹å‚è§ä¸Šæ–¹å¯¹åº”oneBotç‰ˆæœ¬çš„é€šç”¨é…ç½®
  protocol:
    platform: 2
    sign_api_addr: "" #ä½ çš„ç­¾ååœ°å€
    # ...å…¶ä»–é…ç½®é¡¹å‚è€ƒicqqçš„Configé…ç½®

qq.123456789: # `${é€‚é…å™¨åç§°}:${appId}`
  versions:
    - version: V11
  # ã€‚ã€‚ã€‚å…¶ä»–é…ç½®é¡¹å‚è§ä¸Šæ–¹å¯¹åº”oneBotç‰ˆæœ¬çš„é€šç”¨é…ç½®
  protocol: # å°†ä¼šè¦†ç›–é€šç”¨é…ç½®ä¸­çš„protocol
    token: "" # qqæœºå™¨äººtoken
    secret: "" # qqæœºå™¨äººsecret
    sandbox: false # æ˜¯å¦æ²™ç®±ç¯å¢ƒ
    intents: # éœ€è¦ç›‘å¬çš„intents
      - "GROUP_AT_MESSAGE_CREATE" # ç¾¤èŠ@äº‹ä»¶ æ²¡æœ‰ç¾¤èŠæƒé™è¯·æ³¨é‡Š
      - "C2C_MESSAGE_CREATE" # ç§èŠäº‹ä»¶ æ²¡æœ‰ç§èŠæƒé™è¯·æ³¨é‡Š
      - "DIRECT_MESSAGE" # é¢‘é“ç§ä¿¡äº‹ä»¶
      #     - 'GUILD_MESSAGES' # ç§åŸŸæœºå™¨äººé¢‘é“æ¶ˆæ¯äº‹ä»¶ï¼Œå…¬åŸŸæœºå™¨äººè¯·æ³¨é‡Š
      - "GUILDS" # é¢‘é“å˜æ›´äº‹ä»¶
      - "GUILD_MEMBERS" # é¢‘é“æˆå‘˜å˜æ›´äº‹ä»¶
      - "GUILD_MESSAGE_REACTIONS" # é¢‘é“æ¶ˆæ¯è¡¨æ€äº‹ä»¶
      - "INTERACTION" # äº’åŠ¨äº‹ä»¶
      - "PUBLIC_GUILD_MESSAGES" # å…¬åŸŸæœºå™¨äººé¢‘é“æ¶ˆæ¯äº‹ä»¶ï¼Œç§åŸŸæœºå™¨äººè¯·æ³¨é‡Š
  # ã€‚ã€‚ã€‚å…¶ä»–é…ç½®é¡¹å‚è§ä¸Šæ–¹å¯¹åº”oneBotç‰ˆæœ¬çš„é€šç”¨é…ç½®

dingtalk.abcedfg: # `${é€‚é…å™¨åç§°}:${clientId}`
  versions:
    - version: V11
    - version: V12
  protocol:
    clientSecret: "" # é’‰é’‰æœºå™¨äººç§˜é’¥ å¿…å¡«
    username: "é’‰é’‰æœºå™¨äºº" #é’‰é’‰åå°é…ç½®çš„æœºå™¨äººåç§° ä¸å¡«åˆ™æ˜¾ç¤º'é’‰é’‰æœºå™¨äºº'
    avatar: "" # æœºå™¨äººå¤´åƒ ä¸å¡«åˆ™æ˜¾ç¤ºé’‰é’‰logo

wechat.bot1: # `${é€‚é…å™¨åç§°}:${æœºå™¨äººå”¯ä¸€æ ‡è¯†}`
  versions:
    - version: V11
    - version: V12
  protocol: {}
```

# é…ç½®è§£é‡Š

## Config

| é…ç½®é¡¹             | ç±»å‹                            | é»˜è®¤å€¼  | desc         |
| :----------------- | :------------------------------ | :------ | :----------- |
| port               | number                          | 6727    | æœåŠ¡ç›‘å¬ç«¯å£ |
| logLevel           | string                          | info    | æ—¥å¿—çº§åˆ«     |
| general            | {V11:V11.Config,V12:V12.Config} | general | é€šç”¨é…ç½®     |
| [adapter].[number] | OneBotConfig                    | -       | æœºå™¨äººé…ç½®   |

## OneBotConfig

| é…ç½®é¡¹   | ç±»å‹                     | é»˜è®¤å€¼    | desc                                            |
| :------- | :----------------------- | :-------- | :---------------------------------------------- |
| password | string                   | -         | ä»…icqqç”Ÿæ•ˆï¼Œè´¦å·å¯†ç  æœªå¡«å†™æˆ–å¡«å†™ä¸ºç©ºåˆ™æ‰«ç ç™»é™† |
| V11      | V11.Config               | configV11 | V11é…ç½®                                         |
| V12      | V12.Config               | configV12 | V12é…ç½®                                         |
| protocol | ä¼ é€’ç»™clientåˆå§‹åŒ–çš„é…ç½® | {}        |                                                 |

## ConfigV11

| é…ç½®é¡¹              | ç±»å‹     | é»˜è®¤å€¼ | desc              |
| :------------------ | :------- | :----- | :---------------- |
| heartbeat           | number   | 3      | å¿ƒè·³é—´éš” å•ä½ï¼šç§’ |
| access_token        | string   | -      | è®¿é—®ä»¤ç‰Œ          |
| secret              | string   | -      | ç­¾åå¯†é’¥          |
| rate_limit_interval | number   | 4      | é™é€Ÿé—´éš” å•ä½ï¼šç§’ |
| post_message_format | string   | string | æ¶ˆæ¯æ ¼å¼åŒ–        |
| reconnect_interval  | number   | 3      | é‡è¿é—´éš” å•ä½ï¼šç§’ |
| use_http            | boolean  | false  | æ˜¯å¦ä½¿ç”¨httpåè®®  |
| enable_cors         | boolean  | false  | æ˜¯å¦å…è®¸è·¨åŸŸ      |
| filters             | Filters  | {}     | äº‹ä»¶è¿‡æ»¤å™¨é…ç½®    |
| use_ws              | boolean  | false  | æ˜¯å¦ä½¿ç”¨wsåè®®    |
| http_reverse_url    | string[] | -      | httpä¸ŠæŠ¥åœ°å€åœ°å€  |
| ws_reverse_url      | string[] | -      | åå‘wsè¿æ¥åœ°å€    |

## ConfigV12

| é…ç½®é¡¹              | ç±»å‹     | é»˜è®¤å€¼ | desc              |
| :------------------ | :------- | :----- | :---------------- |
| heartbeat           | number   | 3      | å¿ƒè·³é—´éš” å•ä½ï¼šç§’ |
| access_token        | string   | -      | è®¿é—®ä»¤ç‰Œ          |
| request_timeout     | number   | 15     | è¯·æ±‚è¶…æ—¶ å•ä½ï¼šç§’ |
| reconnect_interval  | number   | 3      | é‡è¿é—´éš” å•ä½ï¼šç§’ |
| enable_cors         | boolean  | false  | æ˜¯å¦å…è®¸è·¨åŸŸ      |
| filters             | Filters  | {}     | äº‹ä»¶è¿‡æ»¤å™¨é…ç½®    |
| use_http            | boolean  | false  | æ˜¯å¦ä½¿ç”¨httpåè®®  |
| use_ws              | boolean  | false  | æ˜¯å¦ä½¿ç”¨wsåè®®    |
| webhook_reverse_url | string[] | -      | webhookä¸ŠæŠ¥åœ°å€   |
| ws_reverse_url      | string[] | -      | åå‘wsè¿æ¥åœ°å€    |

# äº‹ä»¶è¿‡æ»¤å™¨

## è¯­æ³•è¯´æ˜

- `onebots` çš„äº‹ä»¶è¿‡æ»¤å™¨æœ€å¤–å±‚æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå…¶ä¸­çš„é”®æ˜¯é”®å¦‚æœæ˜¯è¿ç®—æ³•ï¼Œåˆ™å€¼ä½œä¸ºè¿ç®—ç¬¦çš„å‚æ•°ï¼Œå¦‚æœä¸æ˜¯è¿ç®—ç¬¦ï¼Œåˆ™è¡¨ç¤ºå¯¹äº‹ä»¶æ•°æ®å¯¹è±¡ç›¸åº” `key` è¿›è¡Œè¿‡æ»¤ã€‚
- è¿‡æ»¤è§„åˆ™ä¸­ä»»ä½•ä¸€ä¸ªå¯¹è±¡, åªæœ‰åœ¨å®ƒçš„æ‰€æœ‰é¡¹éƒ½åŒ¹é…çš„æƒ…å†µä¸‹, æ‰ä¼šè®©äº‹ä»¶é€šè¿‡ï¼ˆç­‰ä»·äºä¸€ä¸ª and è¿ç®—ï¼‰ï¼Œå¦‚æœå€¼ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œåˆ™è¡¨ç¤ºäº‹ä»¶å¯¹åº” `key` å€¼éœ€æ»¡è¶³å…¶ä¸­ä¸€ä¸ªã€‚
- å¯ç”¨é€»è¾‘è¿ç®—ç¬¦æœ‰ï¼š`$and` (é€»è¾‘ä¸) ã€`$or` (é€»è¾‘æˆ–) ã€ `$not` (é€»è¾‘é)ã€`$nor` (é€»è¾‘å¼‚æˆ–)ã€`$regexp` (æ–‡æœ¬æ­£åˆ™åŒ¹é…)ã€`$like` (æ–‡æœ¬æ¨¡ç³ŠåŒ¹é…)ã€`$gt` (æ•°å€¼å¤§äºæ¯”è¾ƒ)ã€`$gte` (æ•°å€¼å¤§äºç­‰äºæ¯”è¾ƒ)ã€`$lt` (æ•°å€¼å°äºæ¯”è¾ƒ)ã€`$lte` (æ•°å€¼å°äºç­‰äºæ¯”è¾ƒ)ã€`$between` (æ•°å€¼èŒƒå›´æ¯”è¾ƒ)

## ç¤ºä¾‹

### 1. ä»…ä¸ŠæŠ¥ç§èŠäº‹ä»¶

```yaml
filters:
  message_type: private
```

### 2. ç§èŠæˆ–æŒ‡å®šç¾¤èŠ

```yaml
filters:
  $or:
    message_type: private
    group_id:
      - 123456789 987654321
```

### 3. ç§èŠäº‹ä»¶ä¸”ä¸æ˜¯æŒ‡å®šç”¨æˆ·

```yaml
filters:
  message_type: private
  $not:
    user_id:
      - 123456789 987654321
```

### 4. ç§èŠäº‹ä»¶(æ’é™¤æŒ‡å®šç”¨æˆ·çš„äº‹ä»¶)æˆ–æŒ‡å®šç¾¤èŠäº‹ä»¶

```yaml
filters:
  $or:
    - message_type: private
      $not:
        user_id: 123456789
    - message_type: group
      group_id: 987654321
```

### 5. ä»…ä¸ŠæŠ¥æ¶ˆæ¯äº‹ä»¶ä¸”ç”¨æˆ·å¹´é¾„å¤§äº18å²

```yaml
filters:
  type: message
  sender:
    age:
      $gt: 18
```

### 6. ä»…ä¸ŠæŠ¥æ¶ˆæ¯äº‹ä»¶ä¸”æ¶ˆæ¯å†…å®¹ä»¥ï¼å¼€å¤´çš„æ¶ˆæ¯

```yaml
filters:
  type: message
  raw_message:
    .regexp: '^ï¼|\!'
```

### 7. ä¸ä¸ŠæŠ¥æ¶ˆæ¯å†…å®¹åŒ…å«`cnm`çš„æ¶ˆæ¯

```yaml
filters:
  $not:
    type: message
    raw_message:
      $like: cnm
```

# ä½¿ç”¨APIç®¡ç†oneBot

| url     | method | params          | desc                                           |
| :------ | :----- | :-------------- | :--------------------------------------------- |
| /list   | GET    |                 | è·å–å½“å‰è¿è¡Œçš„æœºå™¨äººåˆ—è¡¨                       |
| /detail | GET    | uin             | è·å–æŒ‡å®šæœºå™¨äººé…ç½®                             |
| /qrcode | GET    | uin             | è·å–æŒ‡å®šæœºå™¨äººç™»å½•äºŒç»´ç                        |
| /add    | POST   | {uin,...config} | æ·»åŠ æœºå™¨äºº config ä¸ºæœºå™¨äººé…ç½®                 |
| /edit   | POST   | {uin,...config} | ä¿®æ”¹æœºå™¨äººé…ç½® config ä¸ºæœºå™¨äººé…ç½®             |
| /remove | get    | uin,force       | ç§»é™¤æœºå™¨äºº,forceä¸ºtrueæ—¶ï¼Œå°†åˆ é™¤æœºå™¨äººdataç›®å½• |

# é¸£è°¢

1. [icqqjs/icqq](https://github.com/icqqjs/icqq) åº•å±‚æœåŠ¡æ”¯æŒ
2. [takayama-lily/onebot](https://github.com/takayama-lily/node-onebot) oneBot V11 åŸå…ˆç‰ˆæœ¬
